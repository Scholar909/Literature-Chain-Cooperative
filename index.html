<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vector Projection Diagram</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #ffffff;
            font-family: 'Times New Roman', serif;
        }
        canvas {
            background-color: #fff;
            border: 1px solid #ddd;
        }
        button {
            margin-top: 20px;
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            background: #000;
            color: #fff;
            border: none;
            border-radius: 5px;
            transition: opacity 0.2s;
        }
        button:hover {
            opacity: 0.8;
        }
    </style>
</head>
<body>

    <canvas id="vectorCanvas" width="600" height="500"></canvas>
    <button onclick="downloadImage()">Download Diagram</button>

    <script>
        const canvas = document.getElementById('vectorCanvas');
        const ctx = canvas.getContext('2d');

        function drawDiagram() {
            const ox = 100; // Origin X
            const oy = 400; // Origin Y
            const length = 350;
            const angle = -Math.PI / 4; // 45 degrees upward

            // Clear to white
            ctx.fillStyle = "white";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.strokeStyle = "black";
            ctx.fillStyle = "black";
            ctx.lineWidth = 2;

            // 1. Draw Axes
            // Vertical axis (Y)
            ctx.beginPath();
            ctx.moveTo(ox, oy + 50);
            ctx.lineTo(ox, 50);
            ctx.stroke();

            // Horizontal axis (X) with arrow
            ctx.beginPath();
            ctx.moveTo(ox - 20, oy);
            ctx.lineTo(500, oy);
            ctx.stroke();
            // Arrowhead for X axis
            ctx.beginPath();
            ctx.moveTo(490, oy - 7);
            ctx.lineTo(500, oy);
            ctx.lineTo(490, oy + 7);
            ctx.stroke();

            // 2. Draw Vector 'r' (Hypotenuse)
            const tx = ox + length * Math.cos(angle);
            const ty = oy + length * Math.sin(angle);
            ctx.beginPath();
            ctx.moveTo(ox, oy);
            ctx.lineTo(tx, ty);
            ctx.stroke();

            // 3. Draw Projections (Dashed/Right Triangle)
            ctx.setLineDash([5, 5]); // Dashed line for the vertical drop
            ctx.beginPath();
            ctx.moveTo(tx, ty);
            ctx.lineTo(tx, oy);
            ctx.stroke();
            ctx.setLineDash([]); // Reset to solid

            // 4. Draw Angle 'θ' Arc
            ctx.beginPath();
            ctx.arc(ox, oy, 60, 0, angle, true);
            ctx.stroke();

            // 5. Labels (Math Type / Cursive Style)
            ctx.font = "italic 28px 'Times New Roman', serif";

            // θ label
            ctx.fillText("θ", ox + 70, oy - 20);
            
            // r label (centered on hypotenuse)
            ctx.fillText("r", (ox + tx) / 2 - 20, (oy + ty) / 2 - 10);

            // r cos θ label
            ctx.fillText("r cos θ", (ox + tx) / 2 - 40, oy + 35);

            // r sin θ label
            ctx.fillText("r sin θ", tx + 15, (oy + ty) / 2 + 10);

            // 'x' label at the base
            ctx.fillText("x", tx - 10, oy + 35);
        }

        function downloadImage() {
            const link = document.createElement('a');
            link.download = 'vector_projection.png';
            link.href = canvas.toDataURL("image/png");
            link.click();
        }

        drawDiagram();
    </script>
</body>
</html>
