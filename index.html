<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polar Geometry Diagram</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
            font-family: 'Times New Roman', serif;
        }
        canvas {
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        button {
            margin-top: 20px;
            padding: 10px 25px;
            font-size: 16px;
            cursor: pointer;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 4px;
        }
        button:hover { background-color: #555; }
    </style>
</head>
<body>

    <canvas id="diagramCanvas" width="600" height="600"></canvas>
    <button onclick="downloadImage()">Download Diagram</button>

    <script>
        const canvas = document.getElementById('diagramCanvas');
        const ctx = canvas.getContext('2d');

        function drawDiagram() {
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 2;
            ctx.font = 'italic 26px "Times New Roman", serif';
            ctx.fillStyle = 'black';

            const centerX = 250;
            const centerY = 350;
            const radius = 130;

            // --- Draw Circle ---
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.stroke();

            // --- Draw Axes ---
            // x-axis
            ctx.beginPath();
            ctx.moveTo(centerX - 160, centerY);
            ctx.lineTo(centerX + 230, centerY);
            ctx.stroke();
            // x-arrow
            ctx.lineTo(centerX + 215, centerY - 6);
            ctx.moveTo(centerX + 230, centerY);
            ctx.lineTo(centerX + 215, centerY + 6);
            ctx.stroke();
            ctx.fillText('x axis', centerX + 200, centerY + 40);

            // y-axis
            ctx.beginPath();
            ctx.moveTo(centerX, centerY + 160);
            ctx.lineTo(centerX, centerY - 250);
            ctx.stroke();
            // y-arrow
            ctx.lineTo(centerX - 6, centerY - 235);
            ctx.moveTo(centerX, centerY - 250);
            ctx.lineTo(centerX + 6, centerY - 235);
            ctx.stroke();
            ctx.fillText('y axis', centerX - 90, centerY - 270);

            // --- Diagonal Strip Shading (1st Quadrant) ---
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + radius, centerY);
            ctx.arc(centerX, centerY, radius, 0, -Math.PI / 2, true);
            ctx.closePath();
            ctx.clip();

            ctx.beginPath();
            for (let i = -radius; i < radius * 2; i += 12) {
                ctx.moveTo(centerX + i, centerY);
                ctx.lineTo(centerX + i + radius, centerY - radius);
            }
            ctx.stroke();
            ctx.restore();

            // --- Theta Arc & Radial Line r ---
            const thetaRadius = radius + 60; // Distance further out
            const angleStart = -Math.PI * 0.45; // Roughly 80 degrees
            const angleEnd = -Math.PI * 0.15;   // Roughly 25 degrees
            const midAngle = (angleStart + angleEnd) / 2;

            // Draw the Theta arc (Concentric to the circle)
            ctx.beginPath();
            ctx.arc(centerX, centerY, thetaRadius, angleStart, angleEnd);
            ctx.stroke();

            // Arrowheads for Theta arc
            const headlen = 10;
            // Left arrowhead
            ctx.save();
            ctx.translate(centerX + thetaRadius * Math.cos(angleStart), centerY + thetaRadius * Math.sin(angleStart));
            ctx.rotate(angleStart - Math.PI / 2);
            ctx.beginPath(); ctx.moveTo(-5, headlen); ctx.lineTo(0, 0); ctx.lineTo(5, headlen); ctx.stroke();
            ctx.restore();
            // Right arrowhead
            ctx.save();
            ctx.translate(centerX + thetaRadius * Math.cos(angleEnd), centerY + thetaRadius * Math.sin(angleEnd));
            ctx.rotate(angleEnd + Math.PI / 2);
            ctx.beginPath(); ctx.moveTo(-5, headlen); ctx.lineTo(0, 0); ctx.lineTo(5, headlen); ctx.stroke();
            ctx.restore();

            ctx.fillText('Î¸', centerX + (thetaRadius + 20) * Math.cos(midAngle), centerY + (thetaRadius + 20) * Math.sin(midAngle));

            // Radial line 'r' pointing through the center of the arc
            ctx.beginPath();
            ctx.moveTo(centerX + (radius - 20) * Math.cos(midAngle), centerY + (radius - 20) * Math.sin(midAngle));
            ctx.lineTo(centerX + (thetaRadius + 40) * Math.cos(midAngle), centerY + (thetaRadius + 40) * Math.sin(midAngle));
            ctx.stroke();
            // Arrowhead for r
            const rx = centerX + (thetaRadius + 40) * Math.cos(midAngle);
            const ry = centerY + (thetaRadius + 40) * Math.sin(midAngle);
            ctx.beginPath();
            ctx.moveTo(rx - 10, ry + 2);
            ctx.lineTo(rx, ry);
            ctx.stroke();
            ctx.fillText('r', rx + 15, ry - 5);
            
            // Origin marker '1'
            ctx.fillText('1', centerX - 20, centerY + 30);
        }

        function downloadImage() {
            const link = document.createElement('a');
            link.download = 'polar_coordinates.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        drawDiagram();
    </script>
</body>
</html>
