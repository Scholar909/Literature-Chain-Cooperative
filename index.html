<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mathematical Curves 2026 - Central Labeling</title>
    <style>
        /* Page Layout and Background */
        body { background-color: #f4f4f4; font-family: "Times New Roman", Times, serif; display: flex; flex-direction: column; align-items: center; gap: 40px; padding: 40px; }
        /* White Canvas Container */
        .graph-box { background: white; padding: 25px; border: 1px solid #ddd; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        canvas { background-color: white; }
        /* Styling for the Download Buttons */
        .btn { margin-top: 20px; padding: 12px 24px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 6px; font-weight: bold; font-size: 16px; }
    </style>
</head>
<body>

<div id="container"></div>

<script>
    const container = document.getElementById('container');
    const width = 600, height = 500;
    const margin = 70;
    const ax = 180, bx = 420; 
    const originY = height - margin;
    const originX = margin;
    
    // Position of the f(x) label: Center of X-axis and 2.8/3 up the Y-axis height
    const labelX = (ax + bx) / 2;
    const labelY = originY - ((originY - 20) * (2.4 / 3));

    // Vertical line anchor height for the curve logic
    const dotLineTop = margin + (originY - margin) * 0.25; 

    const configs = [
        { id: 1, name: "Bimodal Shape", type: "bimodal" },
        { id: 2, name: "Tick Shape (âœ“)", type: "tick" },
        { id: 3, name: "Trimodal Shape", type: "trimodal" }
    ];

    configs.forEach(conf => {
        const box = document.createElement('div');
        box.className = 'graph-box';
        const canvas = document.createElement('canvas');
        canvas.width = width; canvas.height = height;
        const ctx = canvas.getContext('2d');
        
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.innerText = `Download ${conf.name}`;
        btn.onclick = () => {
            const link = document.createElement('a');
            link.download = `${conf.type}_2026.png`;
            link.href = canvas.toDataURL();
            link.click();
        };

        box.appendChild(canvas);
        box.appendChild(btn);
        container.appendChild(box);
        draw(ctx, conf.type);
    });

    function draw(ctx, type) {
        // 1. Clear to Pure White
        ctx.fillStyle = "white";
        ctx.fillRect(0, 0, width, height);

        // 2. Define Curve Math and Extension
        let points = [];
        const extend = 50; 
        const steps = 200;
        
        for(let i = 0; i <= steps; i++) {
            let x = (ax - extend) + ((bx + extend) - (ax - extend)) * (i / steps);
            let t = (x - ax) / (bx - ax); 
            let y;

            if (type === "bimodal") {
                y = dotLineTop + 60 * (1 - Math.cos(t * Math.PI * 2)) / 2;
            } else if (type === "tick") {
                y = (dotLineTop + 60) + 40 * Math.sin(t * Math.PI * 0.8) - (220 * Math.pow(t, 2));
            } else {
                y = dotLineTop + 60 * (1 - Math.cos(t * Math.PI * 4)) / 2;
            }
            points.push({x, y});
        }

        // 3. Draw L-Axis (Black Lines)
        ctx.strokeStyle = "black";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(originX, 20); ctx.lineTo(originX, originY); 
        ctx.lineTo(width - 20, originY); 
        ctx.stroke();

        ctx.fillStyle = "black";
        ctx.font = "italic 22px Times New Roman";
        ctx.fillText("y", originX - 30, 35);
        ctx.fillText("x", width - 35, originY + 30);

        // 4. Draw Vertical Dotted Lines (a and b)
        ctx.setLineDash([5, 5]);
        const ptA = points.find(p => Math.abs(p.x - ax) < 1);
        const ptB = points.find(p => Math.abs(p.x - bx) < 1);
        ctx.beginPath();
        ctx.moveTo(ax, originY); ctx.lineTo(ax, ptA.y);
        ctx.moveTo(bx, originY); ctx.lineTo(bx, ptB.y);
        ctx.stroke();
        ctx.setLineDash([]); 

        ctx.font = "20px Times New Roman";
        ctx.fillText("a", ax - 5, originY + 30);
        ctx.fillText("b", bx - 5, originY + 30);

        // 5. Area Strips (Diagonal Wide Upward)
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(ax, originY);
        const bounded = points.filter(p => p.x >= ax && p.x <= bx);
        bounded.forEach(p => ctx.lineTo(p.x, p.y));
        ctx.lineTo(bx, originY);
        ctx.clip();

        ctx.strokeStyle = "#bbb";
        ctx.lineWidth = 1;
        for (let i = 0; i < width + height; i += 15) {
            ctx.beginPath();
            ctx.moveTo(i, 0); ctx.lineTo(i - height, height);
            ctx.stroke();
        }
        ctx.restore();

        // 6. Draw Main Curve Line
        ctx.strokeStyle = "black";
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(points[0].x, points[0].y);
        points.forEach(p => ctx.lineTo(p.x, p.y));
        ctx.stroke();

        // 7. f(x) Label - Fixed at center of X and 2.8/3 of graph height
        ctx.font = "italic 24px Times New Roman";
        ctx.textAlign = "center";
        ctx.fillText("f(x)", labelX, labelY);
        ctx.textAlign = "start"; // Reset for other text
    }
</script>

</body>
</html>
